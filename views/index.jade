extends layout

block content

	span#bottom.rp-bottom
	//- md-progress-linear.md-accent.rp-progress(ng-controller="rpDeterminateProgressCtrl", ng-show="loading", md-mode="{{mode}}", value="{{value}}")
	md-progress-linear.md-accent.rp-progress(ng-controller="rpDeterminateProgressCtrl", ng-show="loading", md-mode="determinate", value="{{value}}")
	//- md-progress-linear.md-accent.rp-progress(ng-controller="rpIndeterminateProgressCtrl", ng-show="loading", md-mode="indeterminate")

	rp-toolbar
	rp-tabs

	md-sidenav.md-sidenav-left.md-whiteframe-z2.rp-sidenav(md-component-id="left", layout="column")
		md-toolbar.rp-brand-toolbar(layout="column", layout-align="center center")
			a(href="/")
				img.rp-brand-logo(src="/images/logo.png")
			a.rp-brand-name(href="/") reddup | 
		rp-sidenav-content
	
	md-sidenav.md-sidenav-right.md-whiteframe-z2(md-component-id="right")
		.rp-sdebar(ng-controller="rpSidebarCtrl")
			md-toolbar.md-theme-light
				.md-toolbar-tools
					h1 {{about.display_name}}

					span(flex)

					.rp-toolbar-subscribe(ng-if="authenticated && !showSearchForm", ng-show="showSubscribe", ng-controller="rpSubscribeCtrl")
						md-progress-circular.md-accent(md-mode="indeterminate", ng-if="loadingSubscription", md-diameter="24")
						md-button.rp-sidebar-toolbar-action-button.md-icon-button#rp-posts-sub-button(ng-if="!loadingSubscription", aria-label="subscribe", ng-click="toggleSubscription()")
							.rp-toolder-subscribe-icon-switch(ng-switch="subscribed")
								md-icon.rp-toolbar-action-icon(ng-switch-when="true", md-svg-src="../../icons/ic_check_box_black_24px.svg")
									md-tooltip subscribed
								md-icon.rp-toolbar-action-icon(ng-switch-when="false", md-svg-src="../../icons/ic_check_box_outline_blank_black_24px.svg")
									md-tooltip not subscribed

			md-content(layout-padding)
				.rp-sidebar-header(layout-padding, layout="row")
					span.rp-readers(flex) {{about.subscribers | number}} readers  
					span.rp-here(flex) {{about.accounts_active | number}} here  
				.rp-sidebar-description
					p(ng-bind-html="about.description_html | rp_open_link_new_window | rp_unescape_embed")



	.rp-page-content(layout="row", flex)
		
		md-sidenav.md-sidenav-left.rp-sidenav.rp-sidenav-docked(md-component-id="docked", md-is-locked-open="$mdMedia('gt-md') && isDocked", layout="column")
			rp-sidenav-content

		div.rp-main.rp-bottom-sheet-parent#rp-main(layout="column", flex)
			md-content.rp-view(ng-view, layout="column", flex)
