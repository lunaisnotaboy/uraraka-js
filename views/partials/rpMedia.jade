.rp-media(ng-switch="post.data | media_type")

	.rp-media-inner(ng-switch-when="album")
		//- p album
		rp-imgur-album

	.rp-media-inner(ng-switch-when="embed", ng-controller="embedCtrl")
		p embed
		.rp-media-embed(ng-if="post.showEmbed")
			div.responsive-object(ng-bind-html="post.data.media.oembed.html | unescape_html | unsafe")
		
		.rp-media-embed-thumbnail(ng-if="!post.showEmbed")
			.rp-media-embed-thumbnail-wrapper
				img.rp-media-embed-thumbnail-image(ng-src="{{post.data.thumbnail}}")
				paper-icon-button.rp-media-embed-play-paper-icon-button(icon="av:play-circle-outline", ng-click="show()")
				
	.rp-media-inner(ng-switch-when="video", ng-controller="videoCtrl")
		p video
		.rp-media-video-if(ng-if="post.showVideo")		
			div(ng-switch="{{post.data | is_gif}}")
				div(ng-switch-when="true")
					img.rp-card-image(ng-src="{{post.data.url}}", ng-click="hide()")			
				div(ng-switch-default)
					video.rp-media-video(autoplay, loop, muted, preload, ng-click="hide()")
						source(ng-src="{{post.data | video_url: '.webm' | trusted}}", type="video/webm")
						source(ng-src="{{post.data | video_url: '.mp4' | trusted}}", type="video/mp4")

		.rp-media-embed-thumbnail(ng-if="!post.showVideo")
			.rp-media-embed-thumbnail-wrapper
				img.rp-media-embed-thumbnail-image(ng-src="{{post.data.thumbnail}}")
				paper-icon-button.rp-media-embed-play-paper-icon-button(icon="av:play-circle-outline", ng-click="show()")

	.rp-imgur-media-inner(ng-switch-when="image")
		p image
		img.rp-card-image(ng-src="{{post.data | image_url}}")

	.rp-imgur-media-inner(ng-switch-default)
		p default
		img.rp-card-image(ng-src="{{post.data | image_url}}")