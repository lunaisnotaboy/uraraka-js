md-content.rp-content.rp-content-scroll#rp-content(
	flex
	rp-column-resize
	rp-app-infinite-scroll
	rp-app-infinite-scroll-div="#rp-subreddit-posts"
	rp-app-infinite-scroll-distance="5"
)

	div(ng-switch="singleColumnLayout")
		div(ng-switch-when="true")
			.rp-subreddit-posts#rp-subreddit-posts(
				layout="row"
				ng-if="posts"
			)
				.rp-posts-wrapper(layout="row")
					.rp-single-col-wrapper
						rp-link(
							ng-repeat="post in posts"
							post="post"
							parent-ctrl="thisController"
							identity="identity"
							show-sub="showSub"
							ng-class="{'rp-animation-card': animations}"
						)



		div(ng-switch-when="false")

			.rp-subreddit-posts#rp-subreddit-posts(
				layout="row"
				ng-if="posts"
			)
				.rp-posts-wrapper(layout="row")
					.rp-posts-col(layout="column", ng-repeat="column in columns")
						.rp-col-wrapper
							rp-link(
								ng-repeat="post in posts"
								post="post"
								parent-ctrl="thisController"
								identity="identity"
								show-sub="true"
								comments-dialog="commentsDialog"
								ng-if="post.column === $parent.$index"
								ng-class="{'rp-animation-card': animations}"
							)

	p.rp-content-eol(ng-if="noMorePosts") No more posts.
